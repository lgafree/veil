import{d as me,w as ye}from"./index.60452c41.js";import{n as P,f as Ht}from"./firebaseConfig.0c3747e6.js";import{s as be,o as bt,x as vt,C as _,D as wt,z as Ct,e as V,w as St,g as ve,h as we,i as Nt,G as kt,k as zt,M as Ce,U as Se,N as ke,V as xe,O as xt}from"./scheduler.d05b783f.js";import{S as Ee,i as Te,d as A,v as Ie,a as Q,e as L}from"./index.cc061d23.js";function Et(n){function t(e){return e(n),()=>{}}return{subscribe:t}}const B=n=>new Proxy(n,{get(t,e,s){return Reflect.get(t,e,s)},ownKeys(t){return Reflect.ownKeys(t).filter(e=>e!=="action")}}),Tt=n=>typeof n=="function";function Un(n,t){const{stores:e,action:s,returned:i}=t??{},r=(()=>{if(e&&i)return me(e,c=>{const a=i(c);if(Tt(a)){const u=(...l)=>B({...a(...l),[`data-melt-${n}`]:"",action:s??P});return u.action=s??P,u}return B({...a,[`data-melt-${n}`]:"",action:s??P})});{const c=i,a=c==null?void 0:c();if(Tt(a)){const u=(...l)=>B({...a(...l),[`data-melt-${n}`]:"",action:s??P});return u.action=s??P,Et(u)}return Et(B({...a,[`data-melt-${n}`]:"",action:s??P}))}})(),o=s??(()=>{});return o.subscribe=r.subscribe,o}function Gn(n){const t=r=>r?`${n}-${r}`:n,e=r=>`data-melt-${n}${r?`-${r}`:""}`,s=r=>`[data-melt-${n}${r?`-${r}`:""}]`;return{name:t,attribute:e,selector:s,getEl:r=>document.querySelector(s(r))}}const Xn=(n,t)=>{const e=(i,r)=>{n.update(o=>{const c=i(o);let a=c;return t&&(a=t({curr:o,next:c})),r==null||r(a),a})};return{...n,update:e,set:i=>{e(()=>i)}}};function Qn(n){const t={};return Object.keys(n).forEach(e=>{const s=e,i=n[s];t[s]=ye(i)}),t}function Kn(n,t){return t.action(n)}const D=/^[a-z0-9]+(-[a-z0-9]+)*$/,F=(n,t,e,s="")=>{const i=n.split(":");if(n.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;s=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const c=i.pop(),a=i.pop(),u={provider:i.length>0?i[0]:s,prefix:a,name:c};return t&&!z(u)?null:u}const r=i[0],o=r.split("-");if(o.length>1){const c={provider:s,prefix:o.shift(),name:o.join("-")};return t&&!z(c)?null:c}if(e&&s===""){const c={provider:s,prefix:"",name:r};return t&&!z(c,e)?null:c}return null},z=(n,t)=>n?!!((n.provider===""||n.provider.match(D))&&(t&&n.prefix===""||n.prefix.match(D))&&n.name.match(D)):!1,qt=Object.freeze({left:0,top:0,width:16,height:16}),U=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),R=Object.freeze({...qt,...U}),nt=Object.freeze({...R,body:"",hidden:!1});function Me(n,t){const e={};!n.hFlip!=!t.hFlip&&(e.hFlip=!0),!n.vFlip!=!t.vFlip&&(e.vFlip=!0);const s=((n.rotate||0)+(t.rotate||0))%4;return s&&(e.rotate=s),e}function It(n,t){const e=Me(n,t);for(const s in nt)s in U?s in n&&!(s in e)&&(e[s]=U[s]):s in t?e[s]=t[s]:s in n&&(e[s]=n[s]);return e}function Pe(n,t){const e=n.icons,s=n.aliases||Object.create(null),i=Object.create(null);function r(o){if(e[o])return i[o]=[];if(!(o in i)){i[o]=null;const c=s[o]&&s[o].parent,a=c&&r(c);a&&(i[o]=[c].concat(a))}return i[o]}return(t||Object.keys(e).concat(Object.keys(s))).forEach(r),i}function _e(n,t,e){const s=n.icons,i=n.aliases||Object.create(null);let r={};function o(c){r=It(s[c]||i[c],r)}return o(t),e.forEach(o),It(n,r)}function Vt(n,t){const e=[];if(typeof n!="object"||typeof n.icons!="object")return e;n.not_found instanceof Array&&n.not_found.forEach(i=>{t(i,null),e.push(i)});const s=Pe(n);for(const i in s){const r=s[i];r&&(t(i,_e(n,i,r)),e.push(i))}return e}const Le={provider:"",aliases:{},not_found:{},...qt};function tt(n,t){for(const e in t)if(e in n&&typeof n[e]!=typeof t[e])return!1;return!0}function Ut(n){if(typeof n!="object"||n===null)return null;const t=n;if(typeof t.prefix!="string"||!n.icons||typeof n.icons!="object"||!tt(n,Le))return null;const e=t.icons;for(const i in e){const r=e[i];if(!i.match(D)||typeof r.body!="string"||!tt(r,nt))return null}const s=t.aliases||Object.create(null);for(const i in s){const r=s[i],o=r.parent;if(!i.match(D)||typeof o!="string"||!e[o]&&!s[o]||!tt(r,nt))return null}return t}const G=Object.create(null);function Re(n,t){return{provider:n,prefix:t,icons:Object.create(null),missing:new Set}}function T(n,t){const e=G[n]||(G[n]=Object.create(null));return e[t]||(e[t]=Re(n,t))}function ft(n,t){return Ut(t)?Vt(t,(e,s)=>{s?n.icons[e]=s:n.missing.add(e)}):[]}function Oe(n,t,e){try{if(typeof e.body=="string")return n.icons[t]={...e},!0}catch{}return!1}function De(n,t){let e=[];return(typeof n=="string"?[n]:Object.keys(G)).forEach(i=>{(typeof i=="string"&&typeof t=="string"?[t]:Object.keys(G[i]||{})).forEach(o=>{const c=T(i,o);e=e.concat(Object.keys(c.icons).map(a=>(i!==""?"@"+i+":":"")+o+":"+a))})}),e}let j=!1;function Gt(n){return typeof n=="boolean"&&(j=n),j}function K(n){const t=typeof n=="string"?F(n,!0,j):n;if(t){const e=T(t.provider,t.prefix),s=t.name;return e.icons[s]||(e.missing.has(s)?null:void 0)}}function Xt(n,t){const e=F(n,!0,j);if(!e)return!1;const s=T(e.provider,e.prefix);return Oe(s,e.name,t)}function Qt(n,t){if(typeof n!="object")return!1;if(typeof t!="string"&&(t=n.provider||""),j&&!t&&!n.prefix){let i=!1;return Ut(n)&&(n.prefix="",Vt(n,(r,o)=>{o&&Xt(r,o)&&(i=!0)})),i}const e=n.prefix;if(!z({provider:t,prefix:e,name:"a"}))return!1;const s=T(t,e);return!!ft(s,n)}function je(n){return!!K(n)}function We(n){const t=K(n);return t?{...R,...t}:null}const Kt=Object.freeze({width:null,height:null}),Yt=Object.freeze({...Kt,...U}),Ae=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Fe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function it(n,t,e){if(t===1)return n;if(e=e||100,typeof n=="number")return Math.ceil(n*t*e)/e;if(typeof n!="string")return n;const s=n.split(Ae);if(s===null||!s.length)return n;const i=[];let r=s.shift(),o=Fe.test(r);for(;;){if(o){const c=parseFloat(r);isNaN(c)?i.push(r):i.push(Math.ceil(c*t*e)/e)}else i.push(r);if(r=s.shift(),r===void 0)return i.join("");o=!o}}const Be=n=>n==="unset"||n==="undefined"||n==="none";function Jt(n,t){const e={...R,...n},s={...Yt,...t},i={left:e.left,top:e.top,width:e.width,height:e.height};let r=e.body;[e,s].forEach(p=>{const y=[],w=p.hFlip,b=p.vFlip;let f=p.rotate;w?b?f+=2:(y.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),y.push("scale(-1 1)"),i.top=i.left=0):b&&(y.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),y.push("scale(1 -1)"),i.top=i.left=0);let v;switch(f<0&&(f-=Math.floor(f/4)*4),f=f%4,f){case 1:v=i.height/2+i.top,y.unshift("rotate(90 "+v.toString()+" "+v.toString()+")");break;case 2:y.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:v=i.width/2+i.left,y.unshift("rotate(-90 "+v.toString()+" "+v.toString()+")");break}f%2===1&&(i.left!==i.top&&(v=i.left,i.left=i.top,i.top=v),i.width!==i.height&&(v=i.width,i.width=i.height,i.height=v)),y.length&&(r='<g transform="'+y.join(" ")+'">'+r+"</g>")});const o=s.width,c=s.height,a=i.width,u=i.height;let l,d;o===null?(d=c===null?"1em":c==="auto"?u:c,l=it(d,a/u)):(l=o==="auto"?a:o,d=c===null?it(l,u/a):c==="auto"?u:c);const h={},m=(p,y)=>{Be(y)||(h[p]=y.toString())};return m("width",l),m("height",d),h.viewBox=i.left.toString()+" "+i.top.toString()+" "+a.toString()+" "+u.toString(),{attributes:h,body:r}}const He=/\sid="(\S+)"/g,Ne="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let ze=0;function Zt(n,t=Ne){const e=[];let s;for(;s=He.exec(n);)e.push(s[1]);if(!e.length)return n;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(r=>{const o=typeof t=="function"?t(r):t+(ze++).toString(),c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");n=n.replace(new RegExp('([#;"])('+c+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),n=n.replace(new RegExp(i,"g"),""),n}const st=Object.create(null);function $t(n,t){st[n]=t}function rt(n){return st[n]||st[""]}function ht(n){let t;if(typeof n.resources=="string")t=[n.resources];else if(t=n.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:n.path||"/",maxURL:n.maxURL||500,rotate:n.rotate||750,timeout:n.timeout||5e3,random:n.random===!0,index:n.index||0,dataAfterTimeout:n.dataAfterTimeout!==!1}}const Y=Object.create(null),O=["https://api.simplesvg.com","https://api.unisvg.com"],q=[];for(;O.length>0;)O.length===1||Math.random()>.5?q.push(O.shift()):q.push(O.pop());Y[""]=ht({resources:["https://api.iconify.design"].concat(q)});function te(n,t){const e=ht(t);return e===null?!1:(Y[n]=e,!0)}function J(n){return Y[n]}function qe(){return Object.keys(Y)}const Ve=()=>{let n;try{if(n=fetch,typeof n=="function")return n}catch{}};let X=Ve();function Ue(n){X=n}function Ge(){return X}function Xe(n,t){const e=J(n);if(!e)return 0;let s;if(!e.maxURL)s=0;else{let i=0;e.resources.forEach(o=>{i=Math.max(i,o.length)});const r=t+".json?icons=";s=e.maxURL-i-e.path.length-r.length}return s}function Qe(n){return n===404}const Ke=(n,t,e)=>{const s=[],i=Xe(n,t),r="icons";let o={type:r,provider:n,prefix:t,icons:[]},c=0;return e.forEach((a,u)=>{c+=a.length+1,c>=i&&u>0&&(s.push(o),o={type:r,provider:n,prefix:t,icons:[]},c=a.length),o.icons.push(a)}),s.push(o),s};function Ye(n){if(typeof n=="string"){const t=J(n);if(t)return t.path}return"/"}const Je=(n,t,e)=>{if(!X){e("abort",424);return}let s=Ye(t.provider);switch(t.type){case"icons":{const r=t.prefix,c=t.icons.join(","),a=new URLSearchParams({icons:c});s+=r+".json?"+a.toString();break}case"custom":{const r=t.uri;s+=r.slice(0,1)==="/"?r.slice(1):r;break}default:e("abort",400);return}let i=503;X(n+s).then(r=>{const o=r.status;if(o!==200){setTimeout(()=>{e(Qe(o)?"abort":"next",o)});return}return i=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?e("abort",r):e("next",i)});return}setTimeout(()=>{e("success",r)})}).catch(()=>{e("next",i)})},Ze={prepare:Ke,send:Je};function $e(n){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);n.sort((i,r)=>i.provider!==r.provider?i.provider.localeCompare(r.provider):i.prefix!==r.prefix?i.prefix.localeCompare(r.prefix):i.name.localeCompare(r.name));let s={provider:"",prefix:"",name:""};return n.forEach(i=>{if(s.name===i.name&&s.prefix===i.prefix&&s.provider===i.provider)return;s=i;const r=i.provider,o=i.prefix,c=i.name,a=e[r]||(e[r]=Object.create(null)),u=a[o]||(a[o]=T(r,o));let l;c in u.icons?l=t.loaded:o===""||u.missing.has(c)?l=t.missing:l=t.pending;const d={provider:r,prefix:o,name:c};l.push(d)}),t}function ee(n,t){n.forEach(e=>{const s=e.loaderCallbacks;s&&(e.loaderCallbacks=s.filter(i=>i.id!==t))})}function tn(n){n.pendingCallbacksFlag||(n.pendingCallbacksFlag=!0,setTimeout(()=>{n.pendingCallbacksFlag=!1;const t=n.loaderCallbacks?n.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const s=n.provider,i=n.prefix;t.forEach(r=>{const o=r.icons,c=o.pending.length;o.pending=o.pending.filter(a=>{if(a.prefix!==i)return!0;const u=a.name;if(n.icons[u])o.loaded.push({provider:s,prefix:i,name:u});else if(n.missing.has(u))o.missing.push({provider:s,prefix:i,name:u});else return e=!0,!0;return!1}),o.pending.length!==c&&(e||ee([n],r.id),r.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),r.abort))})}))}let en=0;function nn(n,t,e){const s=en++,i=ee.bind(null,e,s);if(!t.pending.length)return i;const r={id:s,icons:t,callback:n,abort:i};return e.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(r)}),i}function sn(n,t=!0,e=!1){const s=[];return n.forEach(i=>{const r=typeof i=="string"?F(i,t,e):i;r&&s.push(r)}),s}var rn={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function on(n,t,e,s){const i=n.resources.length,r=n.random?Math.floor(Math.random()*i):n.index;let o;if(n.random){let g=n.resources.slice(0);for(o=[];g.length>1;){const C=Math.floor(Math.random()*g.length);o.push(g[C]),g=g.slice(0,C).concat(g.slice(C+1))}o=o.concat(g)}else o=n.resources.slice(r).concat(n.resources.slice(0,r));const c=Date.now();let a="pending",u=0,l,d=null,h=[],m=[];typeof s=="function"&&m.push(s);function p(){d&&(clearTimeout(d),d=null)}function y(){a==="pending"&&(a="aborted"),p(),h.forEach(g=>{g.status==="pending"&&(g.status="aborted")}),h=[]}function w(g,C){C&&(m=[]),typeof g=="function"&&m.push(g)}function b(){return{startTime:c,payload:t,status:a,queriesSent:u,queriesPending:h.length,subscribe:w,abort:y}}function f(){a="failed",m.forEach(g=>{g(void 0,l)})}function v(){h.forEach(g=>{g.status==="pending"&&(g.status="aborted")}),h=[]}function k(g,C,E){const M=C!=="success";switch(h=h.filter(x=>x!==g),a){case"pending":break;case"failed":if(M||!n.dataAfterTimeout)return;break;default:return}if(C==="abort"){l=E,f();return}if(M){l=E,h.length||(o.length?S():f());return}if(p(),v(),!n.random){const x=n.resources.indexOf(g.resource);x!==-1&&x!==n.index&&(n.index=x)}a="completed",m.forEach(x=>{x(E)})}function S(){if(a!=="pending")return;p();const g=o.shift();if(g===void 0){if(h.length){d=setTimeout(()=>{p(),a==="pending"&&(v(),f())},n.timeout);return}f();return}const C={status:"pending",resource:g,callback:(E,M)=>{k(C,E,M)}};h.push(C),u++,d=setTimeout(S,n.rotate),e(g,t,C.callback)}return setTimeout(S),b}function ne(n){const t={...rn,...n};let e=[];function s(){e=e.filter(c=>c().status==="pending")}function i(c,a,u){const l=on(t,c,a,(d,h)=>{s(),u&&u(d,h)});return e.push(l),l}function r(c){return e.find(a=>c(a))||null}return{query:i,find:r,setIndex:c=>{t.index=c},getIndex:()=>t.index,cleanup:s}}function Mt(){}const et=Object.create(null);function cn(n){if(!et[n]){const t=J(n);if(!t)return;const e=ne(t),s={config:t,redundancy:e};et[n]=s}return et[n]}function ie(n,t,e){let s,i;if(typeof n=="string"){const r=rt(n);if(!r)return e(void 0,424),Mt;i=r.send;const o=cn(n);o&&(s=o.redundancy)}else{const r=ht(n);if(r){s=ne(r);const o=n.resources?n.resources[0]:"",c=rt(o);c&&(i=c.send)}}return!s||!i?(e(void 0,424),Mt):s.query(t,i,e)().abort}const Pt="iconify2",W="iconify",se=W+"-count",_t=W+"-version",re=36e5,an=168;function ot(n,t){try{return n.getItem(t)}catch{}}function pt(n,t,e){try{return n.setItem(t,e),!0}catch{}}function Lt(n,t){try{n.removeItem(t)}catch{}}function ct(n,t){return pt(n,se,t.toString())}function at(n){return parseInt(ot(n,se))||0}const I={local:!0,session:!0},oe={local:new Set,session:new Set};let gt=!1;function ln(n){gt=n}let H=typeof window>"u"?{}:window;function ce(n){const t=n+"Storage";try{if(H&&H[t]&&typeof H[t].length=="number")return H[t]}catch{}I[n]=!1}function ae(n,t){const e=ce(n);if(!e)return;const s=ot(e,_t);if(s!==Pt){if(s){const c=at(e);for(let a=0;a<c;a++)Lt(e,W+a.toString())}pt(e,_t,Pt),ct(e,0);return}const i=Math.floor(Date.now()/re)-an,r=c=>{const a=W+c.toString(),u=ot(e,a);if(typeof u=="string"){try{const l=JSON.parse(u);if(typeof l=="object"&&typeof l.cached=="number"&&l.cached>i&&typeof l.provider=="string"&&typeof l.data=="object"&&typeof l.data.prefix=="string"&&t(l,c))return!0}catch{}Lt(e,a)}};let o=at(e);for(let c=o-1;c>=0;c--)r(c)||(c===o-1?(o--,ct(e,o)):oe[n].add(c))}function le(){if(!gt){ln(!0);for(const n in I)ae(n,t=>{const e=t.data,s=t.provider,i=e.prefix,r=T(s,i);if(!ft(r,e).length)return!1;const o=e.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,o):o,!0})}}function un(n,t){const e=n.lastModifiedCached;if(e&&e>=t)return e===t;if(n.lastModifiedCached=t,e)for(const s in I)ae(s,i=>{const r=i.data;return i.provider!==n.provider||r.prefix!==n.prefix||r.lastModified===t});return!0}function dn(n,t){gt||le();function e(s){let i;if(!I[s]||!(i=ce(s)))return;const r=oe[s];let o;if(r.size)r.delete(o=Array.from(r).shift());else if(o=at(i),!ct(i,o+1))return;const c={cached:Math.floor(Date.now()/re),provider:n.provider,data:t};return pt(i,W+o.toString(),JSON.stringify(c))}t.lastModified&&!un(n,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),e("local")||e("session"))}function Rt(){}function fn(n){n.iconsLoaderFlag||(n.iconsLoaderFlag=!0,setTimeout(()=>{n.iconsLoaderFlag=!1,tn(n)}))}function hn(n,t){n.iconsToLoad?n.iconsToLoad=n.iconsToLoad.concat(t).sort():n.iconsToLoad=t,n.iconsQueueFlag||(n.iconsQueueFlag=!0,setTimeout(()=>{n.iconsQueueFlag=!1;const{provider:e,prefix:s}=n,i=n.iconsToLoad;delete n.iconsToLoad;let r;if(!i||!(r=rt(e)))return;r.prepare(e,s,i).forEach(c=>{ie(e,c,a=>{if(typeof a!="object")c.icons.forEach(u=>{n.missing.add(u)});else try{const u=ft(n,a);if(!u.length)return;const l=n.pendingIcons;l&&u.forEach(d=>{l.delete(d)}),dn(n,a)}catch(u){console.error(u)}fn(n)})})}))}const mt=(n,t)=>{const e=sn(n,!0,Gt()),s=$e(e);if(!s.pending.length){let a=!0;return t&&setTimeout(()=>{a&&t(s.loaded,s.missing,s.pending,Rt)}),()=>{a=!1}}const i=Object.create(null),r=[];let o,c;return s.pending.forEach(a=>{const{provider:u,prefix:l}=a;if(l===c&&u===o)return;o=u,c=l,r.push(T(u,l));const d=i[u]||(i[u]=Object.create(null));d[l]||(d[l]=[])}),s.pending.forEach(a=>{const{provider:u,prefix:l,name:d}=a,h=T(u,l),m=h.pendingIcons||(h.pendingIcons=new Set);m.has(d)||(m.add(d),i[u][l].push(d))}),r.forEach(a=>{const{provider:u,prefix:l}=a;i[u][l].length&&hn(a,i[u][l])}),t?nn(t,s,r):Rt},pn=n=>new Promise((t,e)=>{const s=typeof n=="string"?F(n,!0):n;if(!s){e(n);return}mt([s||n],i=>{if(i.length&&s){const r=K(s);if(r){t({...R,...r});return}}e(n)})});function ue(n,t){switch(n){case"local":case"session":I[n]=t;break;case"all":for(const e in I)I[e]=t;break}}function gn(n,t){const e={...n};for(const s in t){const i=t[s],r=typeof i;s in Kt?(i===null||i&&(r==="string"||r==="number"))&&(e[s]=i):r===typeof e[s]&&(e[s]=s==="rotate"?i%4:i)}return e}const mn=/[\s,]+/;function yn(n,t){t.split(mn).forEach(e=>{switch(e.trim()){case"horizontal":n.hFlip=!0;break;case"vertical":n.vFlip=!0;break}})}function bn(n,t=0){const e=n.replace(/^-?[0-9.]*/,"");function s(i){for(;i<0;)i+=4;return i%4}if(e===""){const i=parseInt(n);return isNaN(i)?0:s(i)}else if(e!==n){let i=0;switch(e){case"%":i=25;break;case"deg":i=90}if(i){let r=parseFloat(n.slice(0,n.length-e.length));return isNaN(r)?0:(r=r/i,r%1===0?s(r):0)}}return t}function vn(n,t){let e=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const s in t)e+=" "+s+'="'+t[s]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+n+"</svg>"}function wn(n){return n.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Cn(n){return"data:image/svg+xml,"+wn(n)}function Sn(n){return'url("'+Cn(n)+'")'}const Ot={...Yt,inline:!1},kn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},xn={display:"inline-block"},lt={"background-color":"currentColor"},de={"background-color":"transparent"},Dt={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},jt={"-webkit-mask":lt,mask:lt,background:de};for(const n in jt){const t=jt[n];for(const e in Dt)t[n+"-"+e]=Dt[e]}function En(n){return n+(n.match(/^[-0-9.]+$/)?"px":"")}function Tn(n,t){const e=gn(Ot,t),s=t.mode||"svg",i=s==="svg"?{...kn}:{};n.body.indexOf("xlink:")===-1&&delete i["xmlns:xlink"];let r=typeof t.style=="string"?t.style:"";for(let b in t){const f=t[b];if(f!==void 0)switch(b){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":e[b]=f===!0||f==="true"||f===1;break;case"flip":typeof f=="string"&&yn(e,f);break;case"color":r=r+(r.length>0&&r.trim().slice(-1)!==";"?";":"")+"color: "+f+"; ";break;case"rotate":typeof f=="string"?e[b]=bn(f):typeof f=="number"&&(e[b]=f);break;case"ariaHidden":case"aria-hidden":f!==!0&&f!=="true"&&delete i["aria-hidden"];break;default:if(b.slice(0,3)==="on:")break;Ot[b]===void 0&&(i[b]=f)}}const o=Jt(n,e),c=o.attributes;if(e.inline&&(r="vertical-align: -0.125em; "+r),s==="svg"){Object.assign(i,c),r!==""&&(i.style=r);let b=0,f=t.id;return typeof f=="string"&&(f=f.replace(/-/g,"_")),{svg:!0,attributes:i,body:Zt(o.body,f?()=>f+"ID"+b++:"iconifySvelte")}}const{body:a,width:u,height:l}=n,d=s==="mask"||(s==="bg"?!1:a.indexOf("currentColor")!==-1),h=vn(a,{...c,width:u+"",height:l+""}),p={"--svg":Sn(h)},y=b=>{const f=c[b];f&&(p[b]=En(f))};y("width"),y("height"),Object.assign(p,xn,d?lt:de);let w="";for(const b in p)w+=b+": "+p[b]+";";return i.style=w+r,{svg:!1,attributes:i}}function In(n){ue(n,!0)}function Mn(n){ue(n,!1)}Gt(!0);$t("",Ze);if(typeof document<"u"&&typeof window<"u"){le();const n=window;if(n.IconifyPreload!==void 0){const t=n.IconifyPreload,e="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(s=>{try{(typeof s!="object"||s===null||s instanceof Array||typeof s.icons!="object"||typeof s.prefix!="string"||!Qt(s))&&console.error(e)}catch{console.error(e)}})}if(n.IconifyProviders!==void 0){const t=n.IconifyProviders;if(typeof t=="object"&&t!==null)for(let e in t){const s="IconifyProviders["+e+"] is invalid.";try{const i=t[e];if(typeof i!="object"||!i||i.resources===void 0)continue;te(e,i)||console.error(s)}catch{console.error(s)}}}}function Wt(n,t,e,s,i){function r(){t.loading&&(t.loading.abort(),t.loading=null)}if(typeof n=="object"&&n!==null&&typeof n.body=="string")return t.name="",r(),{data:{...R,...n}};let o;if(typeof n!="string"||(o=F(n,!1,!0))===null)return r(),null;const c=K(o);if(!c)return e&&(!t.loading||t.loading.name!==n)&&(r(),t.name="",t.loading={name:n,abort:mt([o],s)}),null;r(),t.name!==n&&(t.name=n,i&&!t.destroyed&&i(n));const a=["iconify"];return o.prefix!==""&&a.push("iconify--"+o.prefix),o.provider!==""&&a.push("iconify--"+o.provider),{data:c,classes:a}}function At(n,t){return n?Tn({...R,...n},t):null}const Pn={getAPIConfig:J,setAPIModule:$t,sendAPIQuery:ie,setFetch:Ue,getFetch:Ge,listAPIProviders:qe},fe="C:/Users/Guile/Desktop/veil/node_modules/@iconify/svelte/dist/Icon.svelte";function ut(n){let t;function e(o,c){return o[0].svg?pe:he}let s=e(n),i=s(n);const r={c:function(){i.c(),t=V()},l:function(c){i.l(c),t=V()},m:function(c,a){i.m(c,a),Q(c,t,a)},p:function(c,a){s===(s=e(c))&&i?i.p(c,a):(i.d(1),i=s(c),i&&(i.c(),i.m(t.parentNode,t)))},d:function(c){c&&L(t),i.d(c)}};return A("SvelteRegisterBlock",{block:r,id:ut.name,type:"if",source:"(108:0) {#if data}",ctx:n}),r}function he(n){let t,e=[n[0].attributes],s={};for(let r=0;r<e.length;r+=1)s=_(s,e[r]);const i={c:function(){t=ve("span"),this.h()},l:function(o){t=we(o,"SPAN",{}),Nt(t).forEach(L),this.h()},h:function(){kt(t,s),zt(t,fe,113,2,2001)},m:function(o,c){Q(o,t,c)},p:function(o,c){kt(t,s=Ht(e,[c&1&&o[0].attributes]))},d:function(o){o&&L(t)}};return A("SvelteRegisterBlock",{block:i,id:he.name,type:"else",source:"(113:1) {:else}",ctx:n}),i}function pe(n){let t,e,s=n[0].body+"",i=[n[0].attributes],r={};for(let c=0;c<i.length;c+=1)r=_(r,i[c]);const o={c:function(){t=Ce("svg"),e=new Se(!0),this.h()},l:function(a){t=ke(a,"svg",{});var u=Nt(t);e=xe(u,!0),u.forEach(L),this.h()},h:function(){e.a=null,xt(t,r),zt(t,fe,109,2,1933)},m:function(a,u){Q(a,t,u),e.m(s,t)},p:function(a,u){u&1&&s!==(s=a[0].body+"")&&e.p(s),xt(t,r=Ht(i,[u&1&&a[0].attributes]))},d:function(a){a&&L(t)}};return A("SvelteRegisterBlock",{block:o,id:pe.name,type:"if",source:"(109:1) {#if data.svg}",ctx:n}),o}function dt(n){let t,e=n[0]&&ut(n);const s={c:function(){e&&e.c(),t=V()},l:function(r){e&&e.l(r),t=V()},m:function(r,o){e&&e.m(r,o),Q(r,t,o)},p:function(r,[o]){r[0]?e?e.p(r,o):(e=ut(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:St,o:St,d:function(r){r&&L(t),e&&e.d(r)}};return A("SvelteRegisterBlock",{block:s,id:dt.name,type:"component",source:"",ctx:n}),s}function _n(n,t,e){let{$$slots:s={},$$scope:i}=t;Ie("Icon",s,[]);const r={name:"",loading:null,destroyed:!1};let o=!1,c=0,a;const u=d=>{typeof t.onLoad=="function"&&t.onLoad(d),Ct()("load",{icon:d})};function l(){e(3,c++,c)}return bt(()=>{e(2,o=!0)}),vt(()=>{e(1,r.destroyed=!0,r),r.loading&&(r.loading.abort(),e(1,r.loading=null,r))}),n.$$set=d=>{e(6,t=_(_({},t),wt(d)))},n.$capture_state=()=>({enableCache:In,disableCache:Mn,iconExists:je,getIcon:We,listIcons:De,addIcon:Xt,addCollection:Qt,calculateSize:it,replaceIDs:Zt,buildIcon:Jt,loadIcons:mt,loadIcon:pn,addAPIProvider:te,_api:Pn,onMount:bt,onDestroy:vt,createEventDispatcher:Ct,checkIconState:Wt,generateIcon:At,state:r,mounted:o,counter:c,data:a,onLoad:u,loaded:l}),n.$inject_state=d=>{e(6,t=_(_({},t),d)),"mounted"in t&&e(2,o=d.mounted),"counter"in t&&e(3,c=d.counter),"data"in t&&e(0,a=d.data)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),n.$$.update=()=>{{const d=Wt(t.icon,r,o,l,u);e(0,a=d?At(d.data,t):null),a&&d.classes&&e(0,a.attributes.class=(typeof t.class=="string"?t.class+" ":"")+d.classes.join(" "),a)}},t=wt(t),[a,r,o,c]}class Yn extends Ee{constructor(t){super(t),Te(this,t,_n,dt,be,{}),A("SvelteRegisterComponent",{component:this,tagName:"Icon",options:t,id:dt.name})}}var Ln=globalThis&&globalThis.__awaiter||function(n,t,e,s){function i(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function c(l){try{u(s.next(l))}catch(d){o(d)}}function a(l){try{u(s.throw(l))}catch(d){o(d)}}function u(l){l.done?r(l.value):i(l.value).then(c,a)}u((s=s.apply(n,t||[])).next())})};function Rn(n,t){return Ln(this,void 0,void 0,function*(){const e=new AudioContext({sampleRate:t});return e.decodeAudioData(n).finally(()=>e.close())})}function On(n){const t=n[0];if(t.some(e=>e>1||e<-1)){const e=t.length;let s=0;for(let i=0;i<e;i++){const r=Math.abs(t[i]);r>s&&(s=r)}for(const i of n)for(let r=0;r<e;r++)i[r]/=s}return n}function Dn(n,t){return typeof n[0]=="number"&&(n=[n]),On(n),{duration:t,length:n[0].length,sampleRate:n[0].length/t,numberOfChannels:n.length,getChannelData:e=>n==null?void 0:n[e],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}const Ft={decode:Rn,createBuffer:Dn};var Bt=globalThis&&globalThis.__awaiter||function(n,t,e,s){function i(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function c(l){try{u(s.next(l))}catch(d){o(d)}}function a(l){try{u(s.throw(l))}catch(d){o(d)}}function u(l){l.done?r(l.value):i(l.value).then(c,a)}u((s=s.apply(n,t||[])).next())})};function jn(n,t,e){var s,i;return Bt(this,void 0,void 0,function*(){const r=yield fetch(n,e);{const o=(s=r.clone().body)===null||s===void 0?void 0:s.getReader(),c=Number((i=r.headers)===null||i===void 0?void 0:i.get("Content-Length"));let a=0;const u=(l,d)=>Bt(this,void 0,void 0,function*(){if(l)return;a+=(d==null?void 0:d.length)||0;const h=Math.round(a/c*100);return t(h),o==null?void 0:o.read().then(({done:m,value:p})=>u(m,p))});o==null||o.read().then(({done:l,value:d})=>u(l,d))}return r.blob()})}const Wn={fetchBlob:jn};class yt{constructor(){this.listeners={}}on(t,e){return this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),()=>this.un(t,e)}once(t,e){const s=this.on(t,e),i=this.on(t,()=>{s(),i()});return s}un(t,e){this.listeners[t]&&(e?this.listeners[t].delete(e):delete this.listeners[t])}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach(s=>s(...e))}}class An extends yt{constructor(t){super(),t.media?this.media=t.media:this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)})}onMediaEvent(t,e,s){return this.media.addEventListener(t,e,s),()=>this.media.removeEventListener(t,e)}onceMediaEvent(t,e){return this.onMediaEvent(t,e,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}setSrc(t,e){if(this.getSrc()===t)return;this.revokeSrc();const i=e instanceof Blob?URL.createObjectURL(e):t;this.media.src=i,this.media.load()}destroy(){this.media.pause(),this.revokeSrc(),this.media.src="",this.media.load()}play(){return this.media.play()}pause(){this.media.pause()}isPlaying(){return this.media.currentTime>0&&!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}setPlaybackRate(t,e){e!=null&&(this.media.preservesPitch=e),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}function Fn(n,t,e,s,i=5){let r=()=>{};if(!n)return r;const o=c=>{if(c.button===2)return;c.preventDefault(),c.stopPropagation();let a=c.clientX,u=c.clientY,l=!1;const d=p=>{p.preventDefault(),p.stopPropagation();const y=p.clientX,w=p.clientY;if(l||Math.abs(y-a)>=i||Math.abs(w-u)>=i){const{left:b,top:f}=n.getBoundingClientRect();l||(l=!0,e==null||e(a-b,u-f)),t(y-a,w-u,y-b,w-f),a=y,u=w}},h=p=>{l&&(p.preventDefault(),p.stopPropagation())},m=()=>{l&&(s==null||s()),r()};document.addEventListener("pointermove",d),document.addEventListener("pointerup",m),document.addEventListener("pointerleave",m),document.addEventListener("click",h,!0),r=()=>{document.removeEventListener("pointermove",d),document.removeEventListener("pointerup",m),document.removeEventListener("pointerleave",m),setTimeout(()=>{document.removeEventListener("click",h,!0)},10)}};return n.addEventListener("pointerdown",o),()=>{r(),n.removeEventListener("pointerdown",o)}}class Z extends yt{constructor(t,e){super(),this.timeouts=[],this.isScrolling=!1,this.audioData=null,this.resizeObserver=null,this.isDragging=!1,this.options=t;let s;if(typeof t.container=="string"?s=document.querySelector(t.container):t.container instanceof HTMLElement&&(s=t.container),!s)throw new Error("Container not found");this.parent=s;const[i,r]=this.initHtml();s.appendChild(i),this.container=i,this.scrollContainer=r.querySelector(".scroll"),this.wrapper=r.querySelector(".wrapper"),this.canvasWrapper=r.querySelector(".canvases"),this.progressWrapper=r.querySelector(".progress"),this.cursor=r.querySelector(".cursor"),e&&r.appendChild(e),this.initEvents()}initEvents(){const t=s=>{const i=this.wrapper.getBoundingClientRect(),r=s.clientX-i.left,o=s.clientX-i.left,c=r/i.width,a=o/i.height;return[c,a]};this.wrapper.addEventListener("click",s=>{const[i,r]=t(s);this.emit("click",i,r)}),this.wrapper.addEventListener("dblclick",s=>{const[i,r]=t(s);this.emit("dblclick",i,r)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:s,scrollWidth:i,clientWidth:r}=this.scrollContainer,o=s/i,c=(s+r)/i;this.emit("scroll",o,c)});const e=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{e(()=>this.reRender())}),this.resizeObserver.observe(this.scrollContainer)}initDrag(){Fn(this.wrapper,(t,e,s)=>{this.emit("drag",Math.max(0,Math.min(1,s/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(){return this.options.height==null?128:isNaN(Number(this.options.height))?this.options.height==="auto"&&this.parent.clientHeight||128:Number(this.options.height)}initHtml(){const t=document.createElement("div"),e=t.attachShadow({mode:"open"});return e.innerHTML=`
      <style>
        :host {
          user-select: none;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
          touch-action: none;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight()}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,e]}setOptions(t){this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}destroy(){var t;this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect()}createDelay(t=10){const e={};return this.timeouts.push(e),s=>{e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout(s,t)}}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const e=document.createElement("canvas"),i=e.getContext("2d").createLinearGradient(0,0,0,e.height),r=1/(t.length-1);return t.forEach((o,c)=>{const a=c*r;i.addColorStop(a,o)}),i}renderBarWaveform(t,e,s,i){const r=t[0],o=t[1]||t[0],c=r.length,{width:a,height:u}=s.canvas,l=u/2,d=window.devicePixelRatio||1,h=e.barWidth?e.barWidth*d:1,m=e.barGap?e.barGap*d:e.barWidth?h/2:0,p=e.barRadius||0,y=a/(h+m)/c,w=p&&"roundRect"in s?"roundRect":"rect";s.beginPath();let b=0,f=0,v=0;for(let k=0;k<=c;k++){const S=Math.round(k*y);if(S>b){const E=Math.round(f*l*i),M=Math.round(v*l*i),x=E+M||1;let $=l-E;e.barAlign==="top"?$=0:e.barAlign==="bottom"&&($=u-x),s[w](b*(h+m),$,h,x,p),b=S,f=0,v=0}const g=Math.abs(r[k]||0),C=Math.abs(o[k]||0);g>f&&(f=g),C>v&&(v=C)}s.fill(),s.closePath()}renderLineWaveform(t,e,s,i){const r=o=>{const c=t[o]||t[0],a=c.length,{height:u}=s.canvas,l=u/2,d=s.canvas.width/a;s.moveTo(0,l);let h=0,m=0;for(let p=0;p<=a;p++){const y=Math.round(p*d);if(y>h){const b=Math.round(m*l*i)||1,f=l+b*(o===0?-1:1);s.lineTo(h,f),h=y,m=0}const w=Math.abs(c[p]||0);w>m&&(m=w)}s.lineTo(h,l)};s.beginPath(),r(0),r(1),s.fill(),s.closePath()}renderWaveform(t,e,s){if(s.fillStyle=this.convertColorValues(e.waveColor),e.renderFunction){e.renderFunction(t,s);return}let i=e.barHeight||1;if(e.normalize){const r=Array.from(t[0]).reduce((o,c)=>Math.max(o,Math.abs(c)),0);i=r?1/r:1}if(e.barWidth||e.barGap||e.barAlign){this.renderBarWaveform(t,e,s,i);return}this.renderLineWaveform(t,e,s,i)}renderSingleCanvas(t,e,s,i,r,o,c,a){const u=window.devicePixelRatio||1,l=document.createElement("canvas"),d=t[0].length;l.width=Math.round(s*(o-r)/d),l.height=i*u,l.style.width=`${Math.floor(l.width/u)}px`,l.style.height=`${i}px`,l.style.left=`${Math.floor(r*s/u/d)}px`,c.appendChild(l);const h=l.getContext("2d");this.renderWaveform(t.map(y=>y.slice(r,o)),e,h);const m=l.cloneNode();a.appendChild(m);const p=m.getContext("2d");l.width>0&&l.height>0&&p.drawImage(l,0,0),p.globalCompositeOperation="source-in",p.fillStyle=this.convertColorValues(e.progressColor),p.fillRect(0,0,l.width,l.height)}renderChannel(t,e,s){const i=document.createElement("div"),r=this.getHeight();i.style.height=`${r}px`,this.canvasWrapper.style.minHeight=`${r}px`,this.canvasWrapper.appendChild(i);const o=i.cloneNode();this.progressWrapper.appendChild(o);const{scrollLeft:c,scrollWidth:a,clientWidth:u}=this.scrollContainer,l=t[0].length,d=l/a;let h=Math.min(Z.MAX_CANVAS_WIDTH,u);if(e.barWidth||e.barGap){const S=e.barWidth||.5,g=e.barGap||S/2,C=S+g;h%C!==0&&(h=Math.floor(h/C)*C)}const m=Math.floor(Math.abs(c)*d),p=Math.floor(m+h*d),y=p-m,w=(S,g)=>{this.renderSingleCanvas(t,e,s,r,Math.max(0,S),Math.min(g,l),i,o)},b=this.createDelay(),f=this.createDelay(),v=(S,g)=>{w(S,g),S>0&&b(()=>{v(S-y,g-y)})},k=(S,g)=>{w(S,g),g<l&&f(()=>{k(S+y,g+y)})};v(m,p),p<l&&k(p,p+y)}render(t){this.timeouts.forEach(c=>c.timeout&&clearTimeout(c.timeout)),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.wrapper.style.width="";const e=window.devicePixelRatio||1,s=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrolling=i>s;const r=this.options.fillParent&&!this.isScrolling,o=(r?s:i)*e;if(this.wrapper.style.width=r?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrolling?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.options.splitChannels)for(let c=0;c<t.numberOfChannels;c++){const a=Object.assign(Object.assign({},this.options),this.options.splitChannels[c]);this.renderChannel([t.getChannelData(c)],a,o)}else{const c=[t.getChannelData(0)];t.numberOfChannels>1&&c.push(t.getChannelData(1)),this.renderChannel(c,this.options,o)}this.audioData=t,this.emit("render")}reRender(){if(!this.audioData)return;const t=this.progressWrapper.clientWidth;this.render(this.audioData);const e=this.progressWrapper.clientWidth;this.scrollContainer.scrollLeft+=e-t}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,e=!1){const{clientWidth:s,scrollLeft:i,scrollWidth:r}=this.scrollContainer,o=r*t,c=s/2,a=e&&this.options.autoCenter&&!this.isDragging?c:s;if(o>i+a||o<i)if(this.options.autoCenter&&!this.isDragging){const u=c/20;o-(i+c)>=u&&o<i+s?this.scrollContainer.scrollLeft+=u:this.scrollContainer.scrollLeft=o-c}else this.isDragging?this.scrollContainer.scrollLeft=o<i?o-10:o-s+10:this.scrollContainer.scrollLeft=o;{const{scrollLeft:u}=this.scrollContainer,l=u/r,d=(u+s)/r;this.emit("scroll",l,d)}}renderProgress(t,e){isNaN(t)||(this.progressWrapper.style.width=`${t*100}%`,this.cursor.style.left=`${t*100}%`,this.cursor.style.marginLeft=Math.round(t*100)===100?`-${this.options.cursorWidth}px`:"",this.isScrolling&&this.options.autoScroll&&this.scrollIntoView(t,e))}}Z.MAX_CANVAS_WIDTH=4e3;class Bn extends yt{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}var N=globalThis&&globalThis.__awaiter||function(n,t,e,s){function i(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function c(l){try{u(s.next(l))}catch(d){o(d)}}function a(l){try{u(s.throw(l))}catch(d){o(d)}}function u(l){l.done?r(l.value):i(l.value).then(c,a)}u((s=s.apply(n,t||[])).next())})};const Hn={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class ge extends An{static create(t){return new ge(t)}constructor(t){var e,s;super({media:t.media,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.options=Object.assign({},Hn,t),this.timer=new Bn;const i=t.media?void 0:this.getMediaElement();this.renderer=new Z(this.options,i),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const r=this.options.url||((e=this.options.media)===null||e===void 0?void 0:e.currentSrc)||((s=this.options.media)===null||s===void 0?void 0:s.src);r&&this.load(r,this.options.peaks,this.options.duration)}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{const t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),!0),this.emit("timeupdate",t),this.emit("audioprocess",t)}))}initPlayerEvents(){this.subscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,e)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,e))}),this.renderer.on("dblclick",(t,e)=>{this.emit("dblclick",t,e)}),this.renderer.on("scroll",(t,e)=>{const s=this.getDuration();this.emit("scroll",t*s,e*s)}),this.renderer.on("render",()=>{this.emit("redraw")}));{let t;this.subscriptions.push(this.renderer.on("drag",e=>{this.options.interact&&(this.renderer.renderProgress(e),clearTimeout(t),t=setTimeout(()=>{this.seekTo(e)},this.isPlaying()?0:200),this.emit("interaction",e*this.getDuration()),this.emit("drag",e))}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(e=>{this.registerPlugin(e)})}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t.init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(e=>e!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}getActivePlugins(){return this.plugins}loadAudio(t,e,s,i){return N(this,void 0,void 0,function*(){if(this.emit("load",t),this.isPlaying()&&this.pause(),this.decodedData=null,!e&&!s){const r=o=>this.emit("loading",o);e=yield Wn.fetchBlob(t,r,this.options.fetchParams)}if(this.setSrc(t,e),s)i=(yield Promise.resolve(i||this.getDuration()))||(yield new Promise(r=>{this.onceMediaEvent("loadedmetadata",()=>r(this.getDuration()))}))||(yield Promise.resolve(0)),this.decodedData=Ft.createBuffer(s,i);else if(e){const r=yield e.arrayBuffer();this.decodedData=yield Ft.decode(r,this.options.sampleRate)}this.emit("decode",this.getDuration()),this.decodedData&&this.renderer.render(this.decodedData),this.emit("ready",this.getDuration())})}load(t,e,s){return N(this,void 0,void 0,function*(){yield this.loadAudio(t,void 0,e,s)})}loadBlob(t,e,s){return N(this,void 0,void 0,function*(){yield this.loadAudio("blob",t,e,s)})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=1,maxLength:e=8e3,precision:s=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),r=[];for(let o=0;o<i;o++){const c=this.decodedData.getChannelData(o),a=Math.min(c.length,e),u=c.length/a,l=[];for(let d=0;d<a;d++){const h=Math.round(d*u),m=c[h];l.push(Math.round(m*s)/s)}r.push(l)}return r}getDuration(){let t=super.getDuration()||0;return(t===0||t===1/0)&&this.decodedData&&(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}seekTo(t){const e=this.getDuration()*t;this.setTime(e)}playPause(){return N(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}destroy(){this.emit("destroy"),this.plugins.forEach(t=>t.destroy()),this.subscriptions.forEach(t=>t()),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}export{Yn as I,ge as W,Un as b,Gn as c,Kn as m,Xn as o,Qn as t};
